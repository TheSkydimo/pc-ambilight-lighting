---
import { Icon } from "astro-icon/components";
import ContentSection from "~/components/content-section.astro";

const featureIcons = [
  {
    id: "byof",
    icon: "mdi:handshake",
  },
  {
    id: "static",
    icon: "mdi:feather",
  },
  {
    id: "ondemand",
    icon: "mdi:directions-fork",
  },
  {
    id: "integration",
    icon: "mdi:graph",
  },
  {
    id: "seo",
    icon: "mdi:search-web",
  },
  {
    id: "community",
    icon: "mdi:account-group",
  },
] as const;

export interface Props {
  title: string;
  leadHtml: string;
  items: Record<
    (typeof featureIcons)[number]["id"],
    { title: string; description: string }
  >;
}

const { title, leadHtml, items } = Astro.props;
---

<ContentSection title={title} id="features">
  <div slot="lead" class="contents" set:html={leadHtml} />
  <ul class="grid max-w-6xl grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {
      featureIcons.map(({ id, icon }) => {
        const copy = items[id];
        return (
          <li class="flex flex-col items-center gap-4 border border-default bg-offset p-6">
            <div class="size-16 rounded-full border-2 border-current p-3">
              <Icon name={icon} class="size-full" />
            </div>
            <p class="text-center font-extrabold text-xl">{copy.title}</p>
            <p class="text-center text-offset text-sm">{copy.description}</p>
          </li>
        );
      })
    }
  </ul>
</ContentSection>
